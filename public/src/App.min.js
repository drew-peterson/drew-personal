'use strict';
angular.module('DrewPersonalSiteApp',
	[
	'stateRouter', 
	'MainHeader',
	'Projects', 
	'ngAnimate'
	]);   
angular.module('stateRouter',['ui.router'])
.config(function($stateProvider, $urlRouterProvider, $locationProvider){
	$urlRouterProvider.otherwise('/');   

	$stateProvider
		.state('home', { 
			url: '/',
			templateUrl: '../views/main.html'   
		}) 
    // GoogleBot SEO
    $locationProvider.html5Mode(true); 
})
angular.module('MainHeader',[]);  
angular.module('Projects',[])
.controller('projects', function(){
	this.projects = [
				{
					img: 'http://goo.gl/21LunE',
					name: 'Pacifica Coffee',
					url: 'https://pacifica-coffee.herokuapp.com',
					github:'https://github.com/weeznog/pacifica-coffee-wholesale',
					description: 'Informational website with admin portal & bag',
					tags: ['angular', 'node', 'express', 'mongo', 'gulp']
				},
				{
					img: 'http://goo.gl/21LunE',
					name: 'Lafayete Fashionista',
					url: 'https://pacifica-coffee.herokuapp.com',
					github: 'https://github.com/weeznog/pacifica-coffee-wholesale',
					description: 'Informational website with admin portal & bag',
					tags: ['angular', 'node', 'express', 'mongo', 'gulp']
				},
				{
					img: 'http://goo.gl/21LunE',
					name: 'Pacifica Coffee',
					url: 'https://pacifica-coffee.herokuapp.com',
					github:'https://github.com/weeznog/pacifica-coffee-wholesale',
					description: 'Informational website with admin portal & bag',
					tags: ['angular', 'node', 'express', 'mongo', 'gulp']
				},
				{
					img: 'http://goo.gl/21LunE',
					name: 'Lafayete Fashionista',
					url: 'https://pacifica-coffee.herokuapp.com',
					github: 'https://github.com/weeznog/pacifica-coffee-wholesale',
					description: 'Informational website with admin portal & bag',
					tags: ['angular', 'node', 'express', 'mongo', 'gulp']
				}
			];
})
angular.module('MainHeader')
.directive('mainHeader',function($animate){ 
	return {
		replace: true,
		transclude: true,
		controllerAs: 'MH',
		templateUrl: '../views/mainHeader.public.html',
		controller: function(){
			var MH = this;
			MH.trigger;
		},
		link: function(scope, elem, attrs, MH){
			window.addEventListener('scroll', function(){
				var pos = document.body.scrollTop;
				var social = $('.headerSocial');
				
				// trigger bar
				if(pos >= 270){
					console.log('triggered!')
					scope.$apply(function(){
						MH.trigger = true;
					})
				}else{
					scope.$apply(function(){
						MH.trigger = false;
					});
				}
			})
		}
	}
})
angular.module('MainHeader')
.directive('headerContent',function(){ 
	return {
		replace: true,
		transclude: true,
		controller: function(){
			var HC = this;
			HC.name = "Drew Peterson";
			HC.title = "FrontEnd Developer";
			HC.img = "https://lh3.googleusercontent.com/rdg7kc1Uftgsg8xLiNcCYljQ52mvepBA1j-JHJpsAiIq0qu5L3k6D4GWkj1QxEYKtkyoVTB_m4E=w5120-h3200-rw-no";
		},
		controllerAs: 'HC',
		templateUrl: '../views/headerContent.public.html' 
	} 
})
angular.module('MainHeader')
.directive('sideNav', function(){
	return { 
		replace: true,
		templateUrl: '/../views/sideNav.public.html',
		controllerAs: 'SN',
		controller: function(){

			this.contacts = [
				{icon: 'L', link: 'linkedin.com/in/drewmpeterson'},
				{icon: 'G', link: 'github.com/weeznog '},
				{icon: 'E', link: 'drew.m.peterson@gmail.com'},
				{icon: 'P', link: '425-765-9911'}
			];
		},
		link: function(){}
	};
})
angular.module('MainHeader')
.directive('headerSocial',function($animate){ 
	return {
		replace: true,
		controller: function(){
			var HS = this;

			HS.img = "https://lh3.googleusercontent.com/rdg7kc1Uftgsg8xLiNcCYljQ52mvepBA1j-JHJpsAiIq0qu5L3k6D4GWkj1QxEYKtkyoVTB_m4E=w5120-h3200-rw-no";

			HS.socialIcons = 
				[
					{url: 'E', details: 'Email'},
					{url: 'P', details: 'Phone'},
					{url: 'G', details: 'Github'},
					{url: 'L', details: 'LinkedIn'}
				];


			HS.selectDetail = function(idx){
				var icon = HS.socialIcons[idx].details;

				if(HS.detail === icon){
					HS.detail = undefined;
				}else{
					HS.detail = icon;
				}
			}
		},
		controllerAs: 'HS',
		link: function(scope,elem,attrs,HS){
			var details = $('.icon-details');

			scope.$watch('HS.detail', function(newVal,oldVal){
				if(newVal != undefined){
					// trigger animation
					details.removeClass('show'); // has to be none angular
					$animate.addClass(details,'show');
				}else{
					details.removeClass('show'); // has to be none angular
				}
			},true);
		},
		templateUrl: '../views/headerSocial.public.html' 
	}
})
angular.module("Projects")
.directive('project', function(){
	return {
		replace: true,
		templateUrl: '../views/project.public.html',
		controllerAs: 'P',
		controller: function(){
		}
	};
});  
//# sourceMappingURL=App.min.js.map
